'use strict';(function(a){function k(b){b=b.toString();var e="";0<b.indexOf(".")&&(e=b.substring(b.indexOf("."),b.length));b=Math.floor(b);b=b.toString();var d=b.substring(b.length-3);b=b.substring(0,b.length-3);""!=b&&(d=","+d);return b.replace(/\B(?=(\d{2})+(?!\d))/g,",")+d+e}if("on"==a(".product_checked").val()){a(".mt-fbt-price-box,.mt-fbt-image").css("display","none");price=(0).toFixed(2);var p=a(".mt-fbt-price-ammount"),q=k(price);p.text(q)}a(".mt-fbt-check-input").on("click",function(){var b=
a(this).data("product_id");console.log(b);let e=[];a(".mt-fbt-check-input").each(function(r,l){a(l).is(":checked")&&e.push(a(l).data("product_id"))});var d=e.length;0==d?a(".mt-fbt-price-box").css("display","none"):a(".mt-fbt-price-box").css("display","block");switch(d){case 1:a(".mt-fbt-button").text(fbt.button_label_single);a(".mt-fbt-price-label").text(fbt.total_label_single);break;case 2:a(".mt-fbt-button").text(fbt.button_label_double);a(".mt-fbt-price-label").text(fbt.total_label_double);break;
case 3:a(".mt-fbt-button").text(fbt.button_label_triple);a(".mt-fbt-price-label").text(fbt.total_label_triple);break;default:a(".mt-fbt-button").text(fbt.button_label),a(".mt-fbt-price-label").text(fbt.total_label)}b=a(".mt-remove-pro"+b);console.log(b.toggle("slow"));b=a(".mt-fbt-price-ammount");var c=parseFloat(b.text()),g=parseFloat(a(this).data("product_price"));c=a(this).prop("checked")?c+g:c-g;if(fbt.isPro)if(0==e.indexOf(parseInt(fbt.id))){g=a(".spend_amount").val();var m=a(".total_quantity").val(),
n=a(".discount_type").val(),h=a(".discount_value").val();if(g<=c&&""!=g||m<=d&&""!=m){if("flat"==n)var f=c-h;else"percentage"==n&&(f=c-c*h/100,d=parseFloat(c*h/100).toFixed(2),a(".discount_amount").text(d),a(".saving_amount").text(d));f=parseFloat(f).toFixed(2);a(".discount_amount").text(f);a(".mt-fbt-price-ammount").css("text-decoration","line-through");a(".mt-fbt-discount,.mt-discount-save").css("display","inline-block");a(".mt-fbt-discount-badge").css("display","table")}else a(".mt-fbt-discount,.mt-discount-save,.mt-fbt-discount-badge").css("display",
"none"),a(".mt-fbt-price-ammount").css("text-decoration","none")}else a(".mt-fbt-discount,.mt-discount-save,.mt-fbt-discount-badge").css("display","none"),a(".mt-fbt-price-ammount").css("text-decoration","none");c=parseFloat(c).toFixed(2);f=k(c);b.text(f);a(".mt-fbt-button").attr("href",fbt.currentURL+"?add-to-cart="+e.join())})})(jQuery);